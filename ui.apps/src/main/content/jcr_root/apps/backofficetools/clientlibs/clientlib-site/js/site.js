!function(){var e={834:function(e,t,r){"use strict";r(834),r(356),r(600),r(859)},600:function(){function e(){const e=document.querySelector(".main__form"),t=document.getElementById("modelid"),r=document.getElementById("productid"),n=document.getElementById("dealerid"),a=document.getElementById("startdate"),o=document.getElementById("enddate"),l=(e,t)=>{e.parentElement.querySelector(".error").textContent=t,e.classList.add("invalid")},d=e=>{e.parentElement.querySelector(".error").textContent="",e.classList.remove("invalid")},s=()=>{const e=t.value.trim();return/^[a-zA-Z0-9]{5,10}$/.test(e)?(d(t),!0):(l(t,"Model ID must be alphanumeric characters between length 5 to 10."),!1)},c=()=>{const e=r.value.trim();return/^[a-zA-Z0-9]{5,10}$/.test(e)?(d(r),!0):(l(r,"Product ID must be alphanumeric characters between length 5 to 10."),!1)},i=()=>{const e=n.value.trim();return/^[a-zA-Z0-9]{5,10}$/.test(e)?(d(n),!0):(l(n,"Dealer ID must be alphanumeric characters between length 5 to 10."),!1)},u=()=>{const e=new Date(a.value),t=new Date(o.value);let r=!0;return a.value?d(a):(l(a,"Start Date is required."),r=!1),o.value?e>=t?(l(o,"End Date must be after Start Date."),r=!1):d(o):(l(o,"End Date is required."),r=!1),r};t.addEventListener("input",s),r.addEventListener("input",c),n.addEventListener("input",i),a.addEventListener("input",u),o.addEventListener("input",u),t.addEventListener("blur",(()=>{t.value.trim()?s():h(t,"Model ID")})),r.addEventListener("blur",(()=>{r.value.trim()?c():h(r,"Product ID")})),n.addEventListener("blur",(()=>{n.value.trim()?i():h(n,"Dealer ID")})),a.addEventListener("blur",(()=>{a.value.trim()?u():h(a,"Start Date")})),o.addEventListener("blur",(()=>{o.value.trim()?u():h(o,"End Date")}));const h=(e,t)=>{e.parentElement.querySelector(".error").textContent=`${t} is required.`,e.classList.add("invalid")};e.addEventListener("submit",(async l=>{l.preventDefault();const d=s(),h=c(),m=i(),f=u();if(d&&h&&m&&f){const l=e=>{const t=new Date(e),r=t.getFullYear(),n=`0${t.getMonth()+1}`.slice(-2);return`${`0${t.getDate()}`.slice(-2)}-${n}-${r}`},d={modelId:t.value.trim().toLowerCase(),productId:r.value.trim().toLowerCase(),dealerId:n.value.trim().toLowerCase(),startDate:l(a.value),endDate:l(o.value)};try{const t=await async function(){const e=await fetch("/libs/granite/csrf/token.json",{credentials:"same-origin"});return(await e.json()).token}(),r=await fetch("http://localhost:4502/bin/warranty/save",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json","CSRF-Token":t},body:JSON.stringify(d)});if(406===r.status)throw new Error("Invalid Data format");if(409===r.status)throw new Error("Product ID already exists");if(!r.ok)throw new Error("Failed to submit data");alert("Warranty details submitted successfully!"),e.reset()}catch(e){alert("Error submitting form: "+e.message)}}}))}document.addEventListener("DOMContentLoaded",(()=>{document.querySelector(".save__container")&&e()}))},859:function(){const e={searchMatching:{modelId:"Model Id",productId:"Product Id",dealerId:"Dealer Id",startDate:"Start Date",endDate:"End Date"},init:function(){this.displayPlaceholder(),$(".searchbox__icon").click((()=>{this.fetch()})),$(".searchbox__input").keydown((e=>{"Enter"===e.key&&this.fetch()}))},fetch:function(){const e=$(".searchbox__searchby").val();let t=$(".searchbox__input").val();if(!t)return $(".searchresult").hide(),$(".fallbackresult").show(),void $(".fallbackresult__title").text(`${this.searchMatching[e]} is required`);if(("modelId"===e||"productId"===e||"dealerId"===e)&&!/^[A-Za-z0-9]+$/.test(t))return $(".searchresult").hide(),$(".fallbackresult").show(),void $(".fallbackresult__title").text(`${this.searchMatching[e]} is Invalid`);if("startDate"===e||"endDate"===e){const[e,r,n]=t.split("-");t=`${n}-${r}-${e}`}t=t.toLowerCase();const r=`http://localhost:4502/bin/warranty/get?searchtype=${encodeURIComponent(e)}&searchvalue=${encodeURIComponent(t)}`;fetch(r,{method:"GET"}).then((e=>e.ok?e.json():{error:!0,status:e.status})).then((e=>{e.error?($(".searchresult").hide(),$(".fallbackresult__title").text("Warranty details Not found"),$(".fallbackresult").show()):($(".fallbackresult").hide(),$(".searchresult").show(),this.dispayWarrantyCards(e))})).catch((e=>{$(".searchresult").hide(),$(".fallbackresult__title").text("Warranty details Not found"),$(".fallbackresult").show()}))},displayPlaceholder:function(){const e=document.querySelector(".searchbox__searchby"),t=document.querySelector(".searchbox__input");e.addEventListener("change",(e=>{const r=e.target.value;"startDate"===r||"endDate"===r?(t.setAttribute("type","date"),t.min="2000-01-01",t.max="2100-12-31"):(t.setAttribute("type","text"),t.setAttribute("placeholder",`Enter ${this.searchMatching[r]}`)),t.value=""}))},dispayWarrantyCards:function(e){$(".searchresult__table--tbody").empty();for(let t=0;t<e.length;t++){const r=e[t];$(".searchresult__table--tbody").append(`<tr>\n                    <td>${t+1}</td>\n                    <td>${r.modelId}</td>\n                    <td>${r.productId}</td>\n                    <td>${r.startDate}</td>\n                    <td>${r.endDate}</td>\n                    <td>${r.dealerId}</td>\n                </tr>  `)}}};$(document).ready((function(){document.querySelector(".boxofficegetwarranty")&&e.init()}))},356:function(){!function(){"use strict";var e='[data-cmp-is="helloworld"]',t='[data-cmp-hook-helloworld="property"]',r='[data-cmp-hook-helloworld="model"]';function n(e){e&&e.element&&function(e){e.element.removeAttribute("data-cmp-is");var n=e.element.querySelectorAll(t);n=1==n.length?n[0].textContent:null;var a=e.element.querySelectorAll(r);a=1==a.length?a[0].textContent:null,console&&console.log&&console.log("HelloWorld component JavaScript example","\nText property:\n",n,"\nModel message:\n",a)}(e)}function a(){for(var t=document.querySelectorAll(e),r=0;r<t.length;r++)new n({element:t[r]});var a=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,o=document.querySelector("body");new a((function(t){t.forEach((function(t){var r=[].slice.call(t.addedNodes);r.length>0&&r.forEach((function(t){t.querySelectorAll&&[].slice.call(t.querySelectorAll(e)).forEach((function(e){new n({element:e})}))}))}))})).observe(o,{subtree:!0,childList:!0,characterData:!0})}"loading"!==document.readyState?a():document.addEventListener("DOMContentLoaded",a)}()}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};r(834)}();